<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/webtopbasic.css">
        <script type="text/javascript" src="js/jquery-1.11.1.js"></script>
        <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>

        <style type="text/css">

        #icon_3 {
            /* testing - remove later */
            /*border: 1px green solid;*/
        }
        div.webtop_icon {
            /* testing - remove later */
            width: -moz-fit-content;
            width: -webkit-fit-content;
            width: fit-content;
            padding: 0.5em;
            background-color: pink;
        }
        #scriptoutput {
            background-color: #FFFFFF;
            top: 400px;
            left: 400px;
            height: 200px;
            width: 600px;
            color: #000000;
            padding: 1em;
        }
        .window_container {
            position: fixed;
            /*  dynamically create measurements w. php later on */
            top: 100px;
            left: 400px;
            width: 400px;
            height: 200px;
            color: #FDFD96;
            background-color: pink;
            border: 3px solid #CB99C9;
        }
        .window_topbar {
            /*box-sizing: border-box;*/

            width: 100%;
            height: 2.2em;
            background-color: #FDFD96;
            border-bottom: 3px solid #CB99C9;
        }
        .window_closebtn {
            float: right;
            text-align: center;
            vertical-align: middle;
            /*padding: 0.2em;*/
            padding-left: 0.45em;
            padding-right: 0.45em;
            margin-right: 0.2em;
            height: 1.4em;
            /*border: 1px solid #CB99C9;*/
            border: 2px solid #CB99C9;
            color: #FDFD96;
            background-color: #AEC6CF;
            /* light grey blue*/
            /*background-color: #AEC6CF;*/
        }
        .window_title {
            float: left;
            padding-left: 0.5em;
            padding-right: 0.5em;
            color: #CB99C9;
        }

        .window_title, .window_closebtn, .window_closebtn div {
            position: relative;
            top: 50%;
            transform: translateY(-50%);
            -webkit-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
        }
        .window_closebtn div {
            clear: both;
            padding-bottom: 0.2em;
        }
        .window_content {
            clear: both;
            padding: 0.5em;
        }
        .hidden {
             visibility: hidden;
        }
        </style>

        <script type="text/javascript">

            // function iconPos () {
            //     var div = $( "div:eq(2)" );
            //     var id = div.attr('id');
            //     var position = div.position();
            //     var text = "id: " +id+ ", left: " + position.left + ", top: " + position.top;
            //     // alert(text);
            //     $("#scriptoutput").text(text);
            // }

            function iconPos () {
                $("[id]").each(function() {
                    // text = $( this ).text()
                    var id = $( this ).attr('id');
                    if (id) {
                    var position = $( this ).position();
                    $("#scriptoutput").append("id: " + id + ", left: " +position.left + ", top: " + position.top + "<br>");
                    }
                });
            }
            function winOpen () {
                $(".webtop_icon").click(function() {
                    var thewindow = $(" .window_container");
                    thewindow.show();
                });
            }
            function winClose () {
                $(".window_closebtn").click(function() {
                    var parent = $( this ).closest(" .window_container");
                    // console.log(parent);
                    parent.hide("slow");
                });
            }


        </script>
    </head>
    <body onLoad="iconPos(); winClose(); winOpen();">
        <div id="webtop_container">
            <div id="webtop_contents">

                <div id="icon_1" class="webtop_icon">
                </div>
                <div id="icon_3" class="webtop_icon">
                </div>
                <div id="icon_2" class="webtop_icon">
                </div>

                <div id="window_1" class="window_container">
                    <div class="window_topbar">
                        <div class="window_title">
                            this is the title
                        </div>
                        <div class="window_closebtn">
                            <div>
                            x
                            </div>
                        </div>
                    </div>
                    <div class="window_content">
                        this is some content.<br>
                        LOREM IPSUM ETC. ETC.
                    </div>
                </div>
                <div id="window_2" class="popupwindow hidden">
                </div>
                <div id="window_3" class="popupwindow hidden">
                </div>

                <div id="scriptoutput">
                </div>

            </div>
        </div>
        <div id="taskbar">
            <div id="icon_start">
                <img class="hidden" src="img/icon_trolllaugh.png">
            </div>
        </div>
    </body>
</html>
